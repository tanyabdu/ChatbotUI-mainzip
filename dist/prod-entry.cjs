"use strict";var d=Object.create;var p=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var y=(t,e,o,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of u(e))!v.call(t,r)&&r!==o&&p(t,r,{get:()=>e[r],enumerable:!(i=m(e,r))||i.enumerable});return t};var s=(t,e,o)=>(o=t!=null?d(f(t)):{},y(e||!t||!t.__esModule?p(o,"default",{value:t,enumerable:!0}):o,t));var l=s(require("express"),1),h=require("http"),a=(0,l.default)(),n=(0,h.createServer)(a);a.use((t,e,o)=>{if(t.path==="/health"||t.path==="/__healthcheck")return e.status(200).send("OK");o()});var c=parseInt(process.env.PORT||"5000",10);n.listen(c,"0.0.0.0",()=>{console.log(`[prod] Health check ready on port ${c}`),setImmediate(async()=>{try{let{initializeApp:t}=await import("./app-init.cjs");await t(n,a),console.log("[prod] Full application initialized")}catch(t){console.error("[prod] Failed to initialize app:",t)}})});
