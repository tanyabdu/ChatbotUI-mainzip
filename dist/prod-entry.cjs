"use strict";var h=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var k=(t,e,o,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of g(e))!_.call(t,r)&&r!==o&&i(t,r,{get:()=>e[r],enumerable:!(a=m(e,r))||a.enumerable});return t};var p=(t,e,o)=>(o=t!=null?h(u(t)):{},k(e||!t||!t.__esModule?i(o,"default",{value:t,enumerable:!0}):o,t));var l=p(require("express"),1),d=require("http"),s=(0,l.default)(),n=(0,d.createServer)(s);s.get("/",(t,e)=>{e.status(200).send("OK")});s.get("/health",(t,e)=>{e.status(200).json({status:"ok"})});s.get("/__healthcheck",(t,e)=>{e.status(200).send("OK")});var c=parseInt(process.env.PORT||"5000",10);n.listen(c,"0.0.0.0",()=>{console.log(`[prod] Health check ready on port ${c}`),setImmediate(async()=>{try{let{initializeApp:t}=await import("./app-init.cjs");await t(n,s),console.log("[prod] Full application initialized")}catch(t){console.error("[prod] Failed to initialize app:",t)}})});
