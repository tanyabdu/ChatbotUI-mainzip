"use strict";var d=Object.create;var a=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var S=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of m(t))!g.call(e,s)&&s!==r&&a(e,s,{get:()=>t[s],enumerable:!(o=h(t,s))||o.enumerable});return e};var i=(e,t,r)=>(r=e!=null?d(v(e)):{},S(t||!e||!e.__esModule?a(r,"default",{value:e,enumerable:!0}):r,e));var c=i(require("express"),1),l=require("http"),n=(0,c.default)(),p=(0,l.createServer)(n);n.get("/health",(e,t)=>{t.status(200).send("OK")});n.get("/__healthcheck",(e,t)=>{t.status(200).send("OK")});async function w(){console.log("[prod] Starting server initialization...");let e=Date.now(),{initializeApp:t}=await import("./app-init.cjs");await t(p,n);let r=Date.now()-e;console.log(`[prod] App initialized in ${r}ms`);let o=parseInt(process.env.PORT||"5000",10);p.listen(o,"0.0.0.0",()=>{console.log(`[prod] Server ready on port ${o}`)})}w().catch(e=>{console.error("[prod] Failed to start server:",e),process.exit(1)});
